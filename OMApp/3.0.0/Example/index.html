<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../OMApp.js"></script>
    <script src="jquery-3.1.1.min.js"></script>
</head>
<body>

<script>
    // 查看 OMApp 当前版本。
    console.log("OMApp Version: " + OMApp.version);

    // 在桌面浏览器开发时，通过此方法初始化 OMApp 的初始属性。
    omApp.config({
        currentUser: {
            name: "John"
        },
        currentTheme: OMApp.Theme.night,
        navigation: {
            bar: {
                title: "Onemena",
                titleColor: "#FF0000",
                backgroundColor: "#e3e3e3",
                isHidden: false
            }
        }
    });

    omApp.onCurrentThemeChange(function (currentTheme) {
        console.log(currentTheme);
    });




    // 将操作放在 ready 方法中。
    omApp.ready(function () {

        console.log('The omApp is Ready.');

        omApp.login(function (isSuccess) {
            console.log("Login Result: "+ isSuccess);
        });

        omApp.open(OMApp.Page.mall, {"id": "0"});

        omApp.present("http://www.baidu.com", true, function () {
            console.log("Did Present Baidu.com");
        });

        omApp.http({
            url: 'http://17.dev.arabsada.com/api/shop/shop_index',
            method: "GET"
        }, function (response) {
            if (response.code !== 0) {
                console.log("[OMApp] 网络请求发送错误");
            } else {
                console.log("[OMApp] 网络请求结果：" + JSON.stringify(response.data));
            }
        });

        omApp.alert({
            title: "Alert Title",
            body: "Alert Body",
            actions: ["OK", "Cancel"]
        }, function (index) {
            console.log(index);
        });

    });



    // 可以使用 omApp.isInApp 来判断是否处于开发调试状态。
    if (!omApp.isInApp) {
        omApp.delegate.ajaxSettings({
            "headers": {
                "access-token": "Test",
                "user-token": "Test"
            }
        });
    }


</script>

</body>
</html>