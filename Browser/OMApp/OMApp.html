<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />   
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>测试</title> 
</head>
<style type="text/css">
	body {
		margin: 0;
		padding: 10px;
	}
	td table {
		width: 96%;
		margin: 2%;
        font-size:14px;
	}
	tr:first-child {
		color: white;
		background-color: black;
	}
	tr td:first-child {
		width: 50px;
		text-align: center;
	}
    body>table {
    	width: 100%;
    	max-width: 100%;
    	overflow: hidden;
    }
    a {
    	text-decoration: none;
    }
    .title {
    	width: 50px;
    }
    pre {
    	overflow: hidden;
    	max-width: 100%;
    }
    .url {
    	color: red;
    }
</style>
<script src="jquery-3.1.1.min.js"></script>
<script src="OMApp.js"></script>
<script type="text/javascript">

	window.onerror = function(error) { alert(error); }
    window.onload = function() {
        omApp.navigation.bar.title              = "OnemenaAppBridge";
        omApp.navigation.bar.titleColor         = "#FFFFFF";
        omApp.navigation.bar.backgroundColor    = "#3e84e0";
    }

</script>
<body> 
	<table cellpadding="5" cellspacing="0" border="1">
		<tbody>
			<tr bgcolor="black" style="color: white;"> 
				<th colspan="2">OMApp API Example</th> 
			</tr> 
		</tbody>
	</table> 
	<br />

	<table cellpadding="5" cellspacing="0" border="1"> 
		<tbody>
			<tr> 
				<th class="title">Name</th> 
				<th align="left">登录</th> 
			</tr> 
			<tr> 
				<td>JS</td> 
				<script type="text/javascript">
					var loginTaskID = null;
					function doLogin() {
					 	loginTaskID = omApp.login(function(result) {
					 		document.getElementById("login_result").innerHTML = omApp.currentUser.name;
						});
					}
				</script>
				<td><button name="login" value="点击登录" onclick="doLogin()">点击登录</button>&nbsp;<span id="login_result" style="color: gray; font-size: 12px;">未登录</span></td>
			</tr> 
		</tbody>
	</table> 
	<br />

	<table cellpadding="5" cellspacing="0" border="1" width="100%"> 
		<tbody>
			<tr> 
				<th class="title">Name</th> 
				<th align="left">导航</th> 
			</tr> 
			<tr> 
				<td>JS</td>
				<script type="text/javascript">
					function setNavigationBarTitle(newTitle) {
                        //alert(omApp.navigation);
						var oldTitle = omApp.navigation.bar.title;
						window.omApp.navigation.bar.title = newTitle;
						document.getElementById("navbar_result").innerHTML = "修改前：" + oldTitle + " 修改后：" + newTitle;
					}
				</script>
				<td> <button onclick="setNavigationBarTitle(Math.random())">设置导航标题</button>&nbsp;<span id="navbar_result" style="color: gray; font-size: 12px;"></span></td> 
			</tr> 

		</tbody>
	</table> 
	<br />

	<table cellpadding="5" cellspacing="0" border="1"> 
		<tbody>
			<tr>
				<th class="title">Name</th> 
				<th align="left">导航到下级页面</th> 
			</tr> 
			<tr>
				<td>JS</td>
				<script type="text/javascript">
					function navigationPush() {
						var href = window.location.href + "?rand=" + Math.random();
						omApp.navigation.push(href);
					}
				</script>
				<td><button onclick="navigationPush()">导航到下级页面</button></td> 
			</tr>
		</tbody>
	</table> 
	<br />


	<table cellpadding="5" cellspacing="0" border="1"> 
		<tbody>
			<tr>
				<th class="title">Name</th> 
				<th align="left">导航返回到上级页面</th> 
			</tr> 
			<tr>
				<td>JS</td>
				<td><button onclick="javascript:omApp.navigation.pop()">返回上级界面</button></td> 
			</tr> 

		</tbody>
	</table> 
	<br />

	<table cellpadding="5" cellspacing="0" border="1" width="100%"> 
		<tbody>
			<tr>
				<th class="title">Name</th> 
				<th align="left">导航返回页面到指定级</th> 
			</tr> 
			<tr>
				<td>JS</td>
				<td><button onclick="javascript:omApp.navigation.popTo(0);">返回到第0页</button></td> 
			</tr> 

		</tbody>
	</table> 
	<br />

	<table cellpadding="5" cellspacing="0" border="1"> 
		<tbody>
			<tr>
				<th class="title">Name</th> 
				<th align="left">页面跳转</th> 
			</tr> 
			<tr>
				<td>JS</td>
				<td> <button onclick="javascript:omApp.open(OMAppPage.mall);">跳转金币商城</button></td> 
			</tr> 
			<tr>
				<td>JS</td> 
				<td> <button onclick="javascript:omApp.open(OMAppPage.task);">跳转金币任务</button></td> 
			</tr> 
			<tr>
				<td>JS</td> 
				<td><button onclick="javascript:omApp.open(OMAppPage.newsList);">跳转新闻列表</button></td> 
			</tr>
			<tr>
				<td>JS</td> 
				<td> <button onclick="javascript:omApp.open(OMAppPage.newsList, '12');">跳转到指定栏目新闻列表</button></td> 
			</tr>

		</tbody>
	</table> 
	<br />

	<table cellpadding="5" cellspacing="0" border="1" width="100%"> 
		<tbody>
			<tr>
				<th class="title">Name</th> 
				<th align="left">设置主题</th> 
			</tr> 
			<tr>
				<td>JS</td>
				<td><button onclick="javascript:omApp.currentTheme = OMAppTheme.night;">切换到夜间模式</button>&nbsp;<button onclick="javascript:omApp.currentTheme = OMAppTheme.day;">切换到白头模式</button>&nbsp;<button onclick="javascript:document.getElementById('theme_result').innerHTML=omApp.currentTheme;">显示当前主题</button>&nbsp;<span id="theme_result"></span></td>
			</tr> 

		</tbody>
	</table> 
	<br />

	<table cellpadding="5" cellspacing="0" border="1" width="100%">
		<tbody>
			<tr>
				<th class="title">Name</th> 
				<th align="left">网络请求</th> 
			</tr> 
			<tr>
				<td>JS</td>
				<script type="text/javascript">
					function httpRequest() {
						var url = document.request.url.value;
						if (!url) {
							alert("url 不能为空");
							return;
						}
						omApp.http({
							url: url,
							method: "GET",
                            data: {"target:": "http://www.baidu.com/"}
						}, function(success, resultObject){
							if (success) {
								document.getElementById("http_result").innerHTML = JSON.stringify(resultObject);
							} else {
								document.getElementById("http_result").innerHTML = "请求失败！"
							}
						});
					}
				</script>
				<td><form name="request"><input type="text" name="url" value="http://api.test.arabsada.com/ar_AE/api/lucky_coin/lucky_coin_login"><button onclick="httpRequest();" type="button">发送网络请求</button></form></td>
			</tr> 
			<tr>
				<td colspan="2" id="http_result"></td>
			</tr> 

		</tbody>
	</table> 
	<br />
    
    
    <table cellpadding="5" cellspacing="0" border="1" width="100%">
        <tbody>
            <tr>
                <th class="title">Name</th>
                <th align="left">location</th>
            </tr>
            <tr>
                <td>JS</td>
                <td><button onclick="javascript:document.location='http://www.baidu.com/'">document.location</button></td>
            </tr> 
            
        </tbody>
    </table> 
    <br />
    
    <!--
		<tr bgcolor="black" style="color: white;">
			<td>window.location</td>
			<td>Value</td>
			<td></td>
		</tr>

 		<script type="text/javascript">
			for(key in window.location) {
				document.write("<tr><td>" + key + "</td><td>" + window.location[key] + "</td><td></td></tr>")
			}
		</script> 
	-->
    
</body>
</html>
